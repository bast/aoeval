include_directories(${PROJECT_SOURCE_DIR}/src)
include_directories(${PROJECT_SOURCE_DIR}/api)

set(_generated_files
    ${PROJECT_BINARY_DIR}/generated/autogenerated_0.cpp
    ${PROJECT_BINARY_DIR}/generated/autogenerated_1.cpp
    ${PROJECT_BINARY_DIR}/generated/autogenerated_2.cpp
    ${PROJECT_BINARY_DIR}/generated/autogenerated_3.cpp
    ${PROJECT_BINARY_DIR}/generated/autogenerated_4.cpp
    ${PROJECT_BINARY_DIR}/generated/autogenerated_5.cpp
    )

set_source_files_properties(${_generated_files} PROPERTIES GENERATED TRUE)

add_library(
    balboa
    SHARED
    Main.cpp
    Main.h
    MemAllocator.cpp
    MemAllocator.h
    AOBatch.cpp
    AOBatch.h
    Basis.cpp
    Basis.h
    CMakeLists.txt
    ao_vector.cpp
    ao_vector.h
    ${_generated_files}
    )

add_dependencies(balboa generate)

install(TARGETS balboa LIBRARY DESTINATION lib)
